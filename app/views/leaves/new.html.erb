<div class="row">
  <div class="col-md-3">
  </div>
  <div class="col-md-6">
    <h2>Apply for leave </h2>
    <% if @leave.errors.any? %>
       <div class="row">
        <div class=" col-md-3">
        </div>
        <div class="col-md-9">
          <ul>
            <% @leave.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
      </div>
      <% end %>
    <%= form_for @leave do |f| %>
      <div class="row">
        <div class=" col-md-3">
          <label>Start Date</label>
        </div>
        <div class="col-md-9">
          <div class="form-group">
            <%= f.text_field :start_date, id: "dpd1", class: 'form-control' %>
          </div>
        </div>
      </div>
      <div class="row">
        <div class=" col-md-3">
          <label>End Date</label>
        </div>
        <div class="col-md-9">
          <div class="form-group">
            <%= f.text_field :end_date, id: "dpd2", class: 'form-control' %>
          </div>
        </div>
      </div>
      <div class="row">
        <div class=" col-md-3">
          <%= f.label :description %>
        </div>
        <div class="col-md-9">
          <div class="form-group">
            <%= f.text_area :description, class: 'form-control' %>
          </div>
        </div>
      </div>
      <div class="row">
        <div class=" col-md-3">
        </div>
        <div class="col-md-9">
          <div class="form-group">
            <%= f.submit 'Apply', class: 'btn btn-success' %>
            <%= link_to 'Back', :back, class: 'btn btn-primary' %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
<script type="text/javascript">
  var nowTemp = new Date();
  var now = new Date(nowTemp.getFullYear(), nowTemp.getMonth(), nowTemp.getDate(), 0, 0, 0, 0);
   
  var checkin = $('#dpd1').datepicker({
    format: 'dd-mm-yyyy',
    onRender: function(date) {
    return date.valueOf() < now.valueOf() ? 'disabled' : '';
    }
  }).on('changeDate', function(ev) {
    if (ev.date.valueOf() > checkout.date.valueOf()) {
      var newDate = new Date(ev.date)
      newDate.setDate(newDate.getDate() + 1);
      checkout.setValue(newDate);
    }
    checkin.hide();
    $('#dpd2')[0].focus();
    }).data('datepicker');
    var checkout = $('#dpd2').datepicker({
    format: 'dd-mm-yyyy',
    onRender: function(date) {
      return date.valueOf() <= checkin.date.valueOf() ? 'disabled' : '';
      }
    }).on('changeDate', function(ev) {
    checkout.hide();
    }).data('datepicker');
</script>